<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="~{fragments/head.html :: head-title(~{::title})}">
    <title th:text="#{title}">title</title>
</head>

<body class="bg-light">
<header th:replace="~{fragments/header.html :: header-common}"></header>


<main class="container">

    <!-- if the email is not verified -->
    <div class="alert alert-warning mt-1" role="alert" th:if="${account != null && !account.emailVerified}">
        <a href="#" th:href="@{/check-email}" class="alert-link">Please check your email to confirm.</a>
    </div>

    <!--<div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
        <div class="col" th:each="post: ${postList}">
            <div class="card" style="width: 18rem;">
                <div class="card-body">
                    <a th:href="@{'/p/' + ${post.path}}" class="text-decoration-none">
                        <h5 class="card-title" th:text="${post.title}">Card title</h5>
                    </a>
                    <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                    <a href="#" class="card-link">Card link</a>
                    <a href="#" class="card-link">Another link</a>
                </div>
            </div>

            <div class="card shadow-sm">
                <div class="card-body">
                    <a th:href="@{'/party/' + ${party.path}}" class="text-decoration-none">
                        <h5 class="card-title context" th:text="${party.title}"></h5>
                    </a>
                    <p class="card-text" th:text="${party.shortDescription}">Short description</p>
                    <p class="card-text context">
                    <div th:replace="fragments.html :: party-tags"></div>
                    <div th:replace="fragments.html :: party-zones"></div>
                    </p>
                    <div class="d-flex justify-content-between align-items-center">
                        &lt;!&ndash;<div class="btn-group">
                            <button type="button" class="btn btn-sm btn-outline-secondary">Bookmark</button>
                        </div>&ndash;&gt;
                        <small class="text-muted">
                            <i class="fa fa-user-circle"></i>
                            <span th:text="${party.memberCount}"></span>
                        </small>
                        <small class="text-muted date" th:text="${party.publishedDateTime}">3 mins</small>
                    </div>
                </div>
            </div>
        </div>
    </div>-->


    <section class="py-5 text-center">
        <div class="row py-lg-5">
            <div class="col-lg-6 col-md-8 mx-auto">
                <img src="/assets/brand/logo-sky-lg.png" alt="" width="600" class="center">
                <!--todo delete<h1 class="fw-light">Mouken</h1>-->
<!--                <p class="lead text-muted" th:text="#{index.intro}"></p>-->
                <p sec:authorize="!isAuthenticated()">
                    <a href="#" th:href="@{/sign-up}" class="btn btn-dark-sky my-2" >Create Account</a>
                    <a href="#" th:href="@{/login}" class="btn btn-sky my-2">Sign In</a>
                </p>
                <p sec:authorize="isAuthenticated()">
                    <a href="#" th:href="@{/new-party}" class="btn btn-sky my-2" th:text="#{new-party}">new-party</a>
                    <!--<a href="#" th:href="@{/new-party}" class="btn btn-secondary my-2" th:text="#{new-party}">new-party</a>-->
                    <!--<a href="#" th:href="@{/parties}" class="btn btn-secondary my-2" th:text="#{parties}">parties</a>-->
                </p>
            </div>
        </div>
    </section>

    <div th:replace="fragments.html :: party-list (partyList=${partyList})"></div>
</main>

<footer th:replace="~{fragments/footer.html :: footer-common}"></footer>
<div th:replace="~{fragments/script.html :: date-time}"></div>
</body>

</html>